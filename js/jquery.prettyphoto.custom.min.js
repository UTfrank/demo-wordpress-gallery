function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function loadJIGprettyPhoto(e){function t(){var e,t,i=!1,p=location.hash;return e=/^#!?([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im,null!==(t=(p=(p=(p=p.replace("%5B","[")).replace("%5D","]")).replace(/([^|])(poster=|videoplayer)/gm,"$1|$2")).match(e))&&(i=t[1]),i}function i(e){if("undefined"!=typeof theRel){var t=!1;if(1==settings.smart_deeplinking&&e){var i="",p=e.filter("[href='"+pp_images[set_position]+"']"),o=p.attr("class"),a=/(?:jig-contentID)-(\w{2})-([^\s]*)/im;if(-1!==o.indexOf("jig-contentID")||(o=p.closest(".jig-imageContainer").attr("class")),null!=(i=a.exec(o))&&(i=i[1]+"/"+i[2]),i)return void(location.hash="!"+theRel+"/"+i);t=!0}1==settings.advanced_deeplinking||1==t?location.hash="!"+theRel+"/"+pp_images[set_position]:location.hash=theRel+"/"+rel_index+"/"}}function p(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==i?"":i[1]}e.prettyPhoto={version:"3.1.6"},e.prettyPhoto.JIG=!0,e.fn.prettyPhoto=function(o){if(void 0===o||void 0!==o&&void 0===o.jig_call?jigReCallPrettyPhotoAfterPossibleResize=!0:jigReCallPrettyPhotoAfterPossibleResize=void 0,!1===(o=jQuery.extend({jig_call:!1,jig_socials:"ftp",title_position:"inside",videoplayer:!1,hook:"rel",advanced_deeplinking:!1,smart_deeplinking:!0,animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:300,keyboard_shortcuts:!0,analytics:!1,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> <div class="ppt">&nbsp;</div> <div class="pp_top"> <div class="pp_left"></div> <div class="pp_middle"></div> <div class="pp_right"></div> </div> <div class="pp_content_container"> <div class="pp_left"> <div class="pp_right"> <div class="pp_content"> <div class="pp_loaderIcon"></div> <div class="pp_fade"> <a href="#" class="pp_expand" title="Expand the image">Expand</a> <div class="pp_hoverContainer"> <a class="pp_next" href="#">next</a> <a class="pp_previous" href="#">previous</a> </div> <div id="pp_full_res"></div> <div class="pp_details"> <div class="pp_nav"> <a href="#" class="pp_arrow_previous">Previous</a> <a href="#" class="pp_arrow_next">Next</a> <p class="currentTextHolder">0/0</p> </div> <p class="pp_description"></p> <div class="pp_bottom_right"> <a class="pp_close" href="#">Close</a> <div class="pp_social">{pp_social}</div> </div> </div> </div> </div> </div> </div> </div> <div class="pp_bottom"> <div class="pp_left"></div> <div class="pp_middle"></div> <div class="pp_right"></div> </div> </div> <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> <a href="#" class="pp_arrow_previous">Previous</a> <div> <ul> {gallery} </ul> </div> <a href="#" class="pp_arrow_next">Next</a> </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no" allowfullscreen></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:!0,jig_facebook:'<div class="jig_pp_social_btn jig_pp_facebook" data-src="//www.facebook.com/plugins/like.php?href={f_location_href}&amp;width=135&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=true&amp;height=21"></div>',jig_twitter:'<div class="jig_pp_social_btn jig_pp_twitter" data-src="//platform.twitter.com/widgets/tweet_button.html?url={location_href}&text={twitter_text}"></div>',jig_pinterest:'<div class="jig_pp_social_btn jig_pp_pinterest" data-href="//www.pinterest.com/pin/create/button/?url={location_href}&media={location_img}&description={d}"></div>'},o)).jig_call&&!0===o.smart_deeplinking&&!0===o.deeplinking&&(o.smart_deeplinking=!1,o.advanced_deeplinking=!0),o.social_tools){var a=o.jig_socials;a=(a=(a=a.toLowerCase()).replace(/[^ftp]/gi,"")).split("");var s=e.inArray("f",a),n=e.inArray("t",a),l=e.inArray("p",a);-1!==s&&(a[s]=o.jig_facebook),-1!==n&&(a[n]=o.jig_twitter),-1!==l&&(a[l]=o.jig_pinterest,void 0===window.jigBuildPinterestButton&&(window.jigBuildPinterestButton=function(e){setTimeout((function(){window.jigBuildPinterestButton(e)}),500)}),!0===o.jig_call&&void 0===window.jigPinterestTrickRan&&(window.jigPinterestTrick(),e(window).off("load",window.jigPinterestTrick).on("load",window.jigPinterestTrick))),o.social_tools=a.join("")}var d,c,_,h,g,f,m,u,v=this,w=!1,y=e(window).height(),b=e(window).width();function k(e,t){e=function(e,t){if(void 0===e)return"";var i=0,p=!1;void 0===t&&(t=2);e=e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var o={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};0===t&&(p=!0);if("number"!=typeof t){for(var a=0,s=(t=[].concat(t)).length;a<s;a+=1)0===o[t[a]]?p=!0:o[t[a]]&&(i|=o[t[a]]);t=i}t&o.ENT_HTML_QUOTE_SINGLE&&(e=e.replace(/&#0*39;/g,"'"));p||(e=e.replace(/&quot;/g,'"'));return e=e.replace(/&amp;/g,"&")}(e),t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,i){return t.indexOf("<"+i.toLowerCase()+">")>-1?e:""}))}function P(){e(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(y/2-d.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1,"JIGswing"),$pp_pic_holder.find(".pp_content").animate({height:d.imageHeight,width:d.imageWidth},settings.animation_speed,"JIGeaseInOutQuad"),$pp_pic_holder.animate({top:projectedTop,left:b/2-d.containerWidth/2<0?0:b/2-d.containerWidth/2,width:d.containerWidth},settings.animation_speed,"JIGeaseInOutQuad",(function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(d.height).width(d.width),$pp_pic_holder.find(".pp_fade").fadeIn({duration:settings.animation_speed,easing:"JIGswing",complete:function(){var t,i,p,o,a,d;settings.social_tools&&(-1!==s&&(a=e(".jig_pp_facebook"),d=e('<iframe src="'+a.data("src")+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:135px; height:21px;" allowTransparency="true"></iframe>'),a.empty().append(d)),-1!==n&&(p=e(".jig_pp_twitter"),o=e('<iframe src="'+p.data("src")+'" width="73" height="20" title="Twitter Tweet Button" style="border: 0; overflow: hidden;" scrolling="no"></iframe>'),p.empty().append(o)),-1!==l&&(t=jQuery(".jig_pp_pinterest"),i=jQuery('<a href="'+t.data("href")+'" class="pin-it-button" data-pin-do="buttonPin" data-pin-config="beside" data-pin-save="true"></a>'),t.empty().append(i),window.jigBuildPinterestButton(t[0]),r()))}}),isSet&&"image"==T(pp_images[set_position])&&pp_images.length>1?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(d.resized?e("a.pp_expand,a.pp_contract").show():e("a.pp_expand").hide()),!settings.autoplay_slideshow||m||c||e.prettyPhoto.startSlideshow(),settings.changepicturecallback(),c=!0})),isSet&&settings.overlay_gallery&&"image"==T(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((d.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div").first().width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,e.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.eq(set_position).addClass("selected")):$pp_pic_holder.find(".pp_content").off("mouseenter mouseleave"),o.ajaxcallback()}function j(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut({duration:settings.animation_speed,easing:"JIGswing",complete:function(){e(".pp_loaderIcon").show(),t()}})}function $(t){t>1?e(".pp_nav").removeClass("pp_nav_hidden"):e(".pp_nav").addClass("pp_nav_hidden")}function x(e,t){I(e,t),s=!1;var i=b-50,p=y-40,o=e,a=t;if((f>i||g>p)&&doresize&&settings.allow_resize&&!w)for(var s=!0,n=!0,r=!1;n;)f>i&&(a=t/e*(o=Math.min(i,o)-20),o<200&&(a=t/e*(o=200),n=!1,r=!0)),g>p&&(o=e/t*(a=Math.min(p,a)-20),a<200&&(o=e/t*(a=200),n=!1,r=!0)),I(o,a),n=0==r&&(f>i||g>p);return O(),{width:Math.floor(o),height:Math.floor(a),containerHeight:Math.floor(g),containerWidth:Math.floor(f)+2*settings.horizontal_padding,imageHeight:Math.floor(_),imageWidth:Math.floor(h),resized:s}}function I(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t);var p=0,o="facebook"!==settings.theme?settings.theme:"pp_facebook",a=e('<div class="prettyPhotoTemporaryMeasure"><div class="pp_content_container"></div></div>').addClass(o).css({position:"absolute",top:-1e4}).appendTo("body");if($pp_details=$pp_details.clone().width(t).appendTo(a.find(".pp_content_container")),"inside"==settings.title_position){e(".pp_details.pp_includes_title").removeClass("pp_alt_x_position pp_alt_br_position pp_socials_own_line"),e(".pp_details .pp_nav, .pp_details .pp_description, .pp_details .pp_bottom_right").removeAttr("style");var s=$pp_details.find(".pp_description:visible");0!==s.length&&0===s.position().left?(e(".pp_details .pp_description").css("margin-right",0).prev().css("margin-right",48),$pp_details.find(".pp_social").outerWidth(!0)<$pp_details.width()-$pp_details.find(".pp_nav").outerWidth(!0)?e(".pp_details.pp_includes_title").addClass("pp_alt_br_position"):e(".pp_details.pp_includes_title").addClass("pp_alt_x_position")):$pp_details.find(".pp_bottom_right").position().top&&(0===s.length||$pp_details.find(".pp_social").height()>30?e(".pp_details.pp_includes_title").addClass("pp_alt_x_position"):e(".pp_details .pp_description").css("margin-right",0),e(".pp_details .pp_bottom_right").css("float","none"),1==$pp_details.find(".pp_social").length&&e(".pp_details.pp_includes_title").addClass("pp_socials_own_line"))}p=(p+=a.outerHeight(!0))<=34?36:p,a.remove(),titleHeight=0,"inside"!==settings.title_position&&($pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove()),h=t,g=(_=i+p)+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),f=t}function T(e){return e.match(/\b\|videoplayer\b/i)?"videoplayer":e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)?"youtube":e.match(/vimeo\.com/i)?"vimeo":e.match(/\b.mov\b/i)?"quicktime":e.match(/\b.swf\b/i)?"flash":e.match(/\biframe=true\b/i)?"iframe":e.match(/\bajax=true\b/i)?"ajax":e.match(/\bcustom=true\b/i)?"custom":"#"==e.substr(0,1)?"inline":"image"}function O(){if(doresize&&"undefined"!=typeof $pp_pic_holder){scroll_pos=A();var e=$pp_pic_holder.height(),t=$pp_pic_holder.width();if(projectedTop=y/2+scroll_pos.scrollTop-e/2,projectedTop<0&&(projectedTop=0),e>y)return;$pp_pic_holder.css({top:projectedTop,left:b/2+scroll_pos.scrollLeft-t/2})}}function A(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function C(t){if(settings.markup=settings.markup.replace("{pp_social}",""),e("body").append(settings.markup),$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var i=0;i<pp_images.length;i++)pp_images[i].match(/\b(jpg|jpeg|png|webp|bmp|gif)\b/gi)?(classname="",void 0!==u?(img_src=u.find('a.jig-link[href="'+pp_images[i]+'"]:not(.jig-hiddenLink) img').eq(0).attr("src"),"undefined"!=typeof img_src&&"data:"!==img_src.substr(0,5)||(img_src=pp_images[i])):img_src=pp_images[i]):(classname=' class="default"',img_src=""),toInject+="<li"+classname+'><a href="#"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" style="background-image: url('+img_src+');" alt="'+encodeURIComponent(k(pp_titles[i].replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/gm,"$2: $1")))+'" /></a></li>';toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click((function(){return e.prettyPhoto.changeGalleryPage("next"),e.prettyPhoto.stopSlideshow(),!1})),$pp_gallery.find(".pp_arrow_previous").click((function(){return e.prettyPhoto.changeGalleryPage("previous"),e.prettyPhoto.stopSlideshow(),!1})),$pp_pic_holder.find(".pp_content").hover((function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn({duration:400,easing:"JIGswing"})}),(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut({duration:400,easing:"JIGswing"})})),itemWidth=57,$pp_gallery_li.each((function(t){e(this).find("a").click((function(){return e.prettyPhoto.changePage(t),e.prettyPhoto.stopSlideshow(),!1}))}))}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click((function(){return e.prettyPhoto.startSlideshow(),!1})));var p="facebook"!==settings.theme?settings.theme:"pp_facebook";$pp_pic_holder.attr("class","pp_pic_holder "+p),$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).on("click",(function(){settings.modal||e.prettyPhoto.close()})),e("a.pp_close").on("click",(function(){return e.prettyPhoto.close(),!1})),settings.allow_expand&&e("a.pp_expand").on("click",(function(t){return e(this).hasClass("pp_expand")?(e(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(e(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),j((function(){e.prettyPhoto.open()})),!1})),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").on("click",(function(){return e.prettyPhoto.changePage("previous"),e.prettyPhoto.stopSlideshow(),!1})),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").on("click",(function(){return e.prettyPhoto.changePage("next"),e.prettyPhoto.stopSlideshow(),!1})),O()}if(1==o.jig_call&&(u=v.first().closest(".justified-image-grid")),doresize=!0,scroll_pos=A(),void 0!==v.selector&&-1==v.selector.indexOf("#jig")&&(v=v.filter(":not(.justified-image-grid a)")),o.matchedObjects=v,e(window).off("resize.prettyphoto").on("resize.prettyphoto",(function(){y=e(window).height(),b=e(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(e(document).height()).width(b),O()})),o.keyboard_shortcuts&&e(document).off("keydown.prettyphoto").on("keydown.prettyphoto",(function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous"),t.preventDefault();break;case 13:case 39:e.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||e.prettyPhoto.close(),t.preventDefault()}})),e.prettyPhoto.initialize=function(){settings=o,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=e(this).attr(settings.hook).split(" ").shift();return isSet=!!/\[(?:.*)\]/.exec(theRel),isSet?(pp_images=jQuery.map(v,(function(t,i){if(e(t).attr(settings.hook)&&-1!=e(t).attr(settings.hook).indexOf(theRel))return e(t).attr("href")})),pp_titles=jQuery.map(v,(function(t,i){if(e(t).attr(settings.hook)&&-1!=e(t).attr(settings.hook).indexOf(theRel))return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""})),pp_descriptions=jQuery.map(v,(function(t,i){if(e(t).attr(settings.hook)&&-1!=e(t).attr(settings.hook).indexOf(theRel))return e(t).attr("title")?e(t).attr("title"):""}))):(pp_images=e.makeArray(e(this).attr("href")),pp_titles=e.makeArray(e(this).find("img").attr("alt")),pp_descriptions=e.makeArray(e(this).attr("title"))),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(e(this).attr("href"),pp_images),rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this)),C(this),settings.allow_resize&&e(window).on("scroll.prettyphoto",(function(){y=e(window).height(),b=e(window).width(),O()})),e.prettyPhoto.open(),!1},e.prettyPhoto.open=function(t){"undefined"==typeof settings&&(settings=o,pp_images=e.makeArray(arguments[0]),pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray(""),pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray(""),isSet=pp_images.length>1,set_position=arguments[3]?arguments[3]:0,C(t.target)),settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),$(e(pp_images).length),e(".pp_loaderIcon").show(),settings.deeplinking&&i(settings.matchedObjects),1==settings.analytics&&"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent","Photos","View",pp_images[set_position]]);var a="";if(1==settings.advanced_deeplinking||1==settings.smart_deeplinking){var s=(a=decodeURI(document.location.href)).split("#!");a=s[0]+"#!"+s[1]}else a=location.href;if(settings.social_tools){var n;n=settings.social_tools.replace(/{location_href}/g,encodeURIComponent(location.href));-1!==a.indexOf("?")&&a.indexOf("?")<a.indexOf("#!")&&"&",n=n.replace(/{f_location_href}/g,encodeURIComponent(a));var r=pp_images[set_position],l=/(?:poster=)(.*)(?:\|videoplayer)/m.exec(r),c="";-1!==(n=null===l?n.replace(/{location_img}/g,encodeURIComponent(pp_images[set_position])):n.replace(/{location_img}/g,encodeURIComponent(l[1]))).indexOf("{twitter_text}")&&(void 0!==pp_titles[set_position]?(c=pp_titles[set_position],n=n.replace(/{twitter_text}/g,encodeURIComponent(k(c.replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/gm,"$2: $1"))))):n=n.replace(/{twitter_text}/g,encodeURIComponent(document.title))),void 0!==pp_descriptions[set_position]&&(c+=""!==c?" "+pp_descriptions[set_position]:pp_descriptions[set_position]),n=n.replace(/{d}/g,encodeURIComponent(k(c.replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/gm,"$2: $1")))),$pp_pic_holder.find(".pp_social").html(n)}else $pp_pic_holder.find(".pp_social").remove();$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity,"JIGswing"),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).length),"inside"==settings.title_position&&(pp_descriptions[set_position]=(settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?'<div class="ppt_inside">'+pp_titles[set_position]+"</div>":"")+(void 0!==pp_descriptions[set_position]?pp_descriptions[set_position]:""),pp_titles[set_position]=void 0,$pp_pic_holder.find(".pp_details").addClass("pp_includes_title")),void 0!==pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").html(pp_descriptions[set_position]):$pp_pic_holder.find(".pp_description").empty();var _=parseFloat(p("width",pp_images[set_position]))?p("width",pp_images[set_position]):settings.default_width.toString(),h=parseFloat(p("height",pp_images[set_position]))?p("height",pp_images[set_position]):settings.default_height.toString();return w=!1,-1!=h.indexOf("%")&&(h=parseFloat(e(window).height()*parseFloat(h)/100-150),w=!0),-1!=_.indexOf("%")&&(_=parseFloat(e(window).width()*parseFloat(_)/100-150),w=!0),$pp_pic_holder.fadeIn({duration:400,easing:"JIGswing",complete:function(){settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?$ppt.html(pp_titles[set_position]):$ppt.remove();var t="",i=!1;switch(T(pp_images[set_position])){case"image":t=new Image;var o=new Image;isSet&&set_position<e(pp_images).length-1&&(o.src=pp_images[set_position+1]);var a=new Image;isSet&&pp_images[set_position-1]&&(a.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),t.onload=function(){d=x(t.width,t.height),P()},t.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),e.prettyPhoto.close()},t.src=pp_images[set_position];break;case"youtube":d=x(_,h),movie_id=p("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="//www.youtube.com/embed/"+movie_id,p("rel",pp_images[set_position])?movie+="?rel="+p("rel",pp_images[set_position]):movie+="?rel=0",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":d=x(_,h),movie_id=pp_images[set_position];var s=movie_id.match(/https?:\/\/(?:www\.)?vimeo\.com\/(?:(\d+)|channels\/\w+?\/(\d+))/m),n=s[1]|s[2];movie="//player.vimeo.com/video/"+n+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=d.width+"/embed/?moog_width="+d.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,d.height).replace(/{path}/g,movie);break;case"quicktime":(d=x(_,h)).height+=15,d.imageHeight+=15,d.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":d=x(_,h),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":d=x(_,h),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{path}/g,frame_url);break;case"videoplayer":d=x(_,h),frame_url=pp_images[set_position],!1!==settings.videoplayer&&(frame_url=settings.videoplayer+encodeURIComponent(frame_url)),toInject=settings.iframe_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,d=x(_,h),doresize=!0,i=!0,e.get(pp_images[set_position],(function(e){toInject=settings.inline_markup.replace(/{content}/g,e),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,P()}));break;case"custom":d=x(_,h),toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(),doresize=!1,d=x(e(myClone).width(),e(myClone).height()),doresize=!0,e(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html())}t||i||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,P())}}),!1},e.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=e(pp_images).length-1)):"next"==t?(set_position++,set_position>e(pp_images).length-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),j((function(){e.prettyPhoto.open()}))},e.prettyPhoto.changeGalleryPage=function(e){"next"==e?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==e?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=e,slide_speed="next"==e||"previous"==e?settings.animation_speed:0,slide_to=currentGalleryPage*(itemsPerPage*itemWidth),$pp_gallery.find("ul").animate({left:-slide_to},slide_speed,"JIGeaseInOutQuad")},e.prettyPhoto.startSlideshow=function(){void 0===m?($pp_pic_holder.find(".pp_play").off("click").removeClass("pp_play").addClass("pp_pause").click((function(){return e.prettyPhoto.stopSlideshow(),!1})),m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)):e.prettyPhoto.changePage("next")},e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").off("click").removeClass("pp_pause").addClass("pp_play").click((function(){return e.prettyPhoto.startSlideshow(),!1})),clearInterval(m),m=void 0},e.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(e.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut({duration:settings.animation_speed,easing:"JIGswing",complete:function(){e(this).remove()}}),$pp_overlay.fadeOut({duration:settings.animation_speed,easing:"JIGswing",complete:function(){settings.hideflash&&e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),e(this).remove(),e(window).off("scroll.prettyphoto"),function(){if("undefined"==typeof theRel)return;var e,t=location.hash,i=theRel.replace("[",")\\[");-1===(i=i.replace("]","\\]")).indexOf(")")&&(i+=")");e=new RegExp("^#(!?"+i+"/(\\d+?/)?(https?://.*)?([A-Z]{2}/[_w]*)?"),null!==t.match(e)&&(location.hash="!")}(),settings.callback(),doresize=!0,c=!1,settings=void 0}}))},!pp_alreadyInitialized&&t()&&1==o.jig_call){var R,S,z,G,E,B,W=!1;B=(E=t()).substring(0,E.indexOf("/")),E=E.substring(E.indexOf("/")+1,E.length),/^([A-Z]{2}\/[_\w]*)$/im.test(E)?(E=E.replace("/","-"),0===(G=u.find(".jig-contentID-"+E).find("a["+o.hook+"^='"+B+"']").first()).length&&(G=u.find("a["+o.hook+"^='"+B+"'].jig-contentID-"+E).first()),0!==G.length?(pp_alreadyInitialized=!0,e(window).one("jigPrettyPhotoActivation",(function(){jigOtherPrettyPhotoIsPresent=void 0,G.trigger("click")})),W=!1):W=!0):W=!0,1==W&&(R=new RegExp("(^\\d+)?/?(https?://.+$)"),null!==(G=E.match(R))&&(E=G[1],z=G[2],(S=u.find("a["+o.hook+"^='"+B+"']").eq(E)).attr("href")!==z&&(S=u.find("a["+o.hook+"^='"+B+"'][href^='"+z+"']")),0!==S.length?(pp_alreadyInitialized=!0,e(window).one("jigPrettyPhotoActivation",(function(){jigOtherPrettyPhotoIsPresent=void 0,S.trigger("click")})),W=!1):W=!0,W=!1)),1==W&&0!==u.find("a["+o.hook+"^='"+B+"']").eq(E).trigger("click").length&&(pp_alreadyInitialized=!0)}return v.off("click.prettyphoto").on("click.prettyphoto",e.prettyPhoto.initialize)};var o,a=0,s=-1,n=-1;function r(){var t=e(".jig_pp_pinterest"),i=e(".pp_bottom_right");if(-1===s&&(s=e(".pp_details .pp_social").height()),-1===n&&0!==i.length&&(n=i.position().top),0!==t.length){var p=t.find("> a");if(void 0!==p.attr("data-pin-log")){var l=p.find("> span"),d=0;0!==l.length&&(d=Math.abs(parseInt(l.css("right"),10)))>0&&p.css("margin-right",d),e(".jig_pp_pinterest").addClass("jig_pp_measured_pinterest"),0!==i.length&&n<i.position().top?e(".pp_content").height(e(".pp_content").height()+i.position().top-n):s<e(".pp_details .pp_social").height()&&e(".pp_content").height(e(".pp_content").height()+e(".pp_details .pp_social").height()-s),void 0!==o&&(a=0,clearTimeout(o)),s=-1,n=-1}else a<30&&(o=setTimeout((function(){a++,r()}),200))}}window.jigPinterestTrick=function(){var t=e('.jig_pp_social_btn.jig_pp_pinterest span[class$="_button_pin"]'),i=t.length;if(i>1&&t.each((function(t,p){t!==i-1&&e(p).remove()})),void 0===window.jigPinterestTrickRan||1!==window.jigPinterestTrickRan){window.jigPinterestTrickRan="pending";for(var p,o=!1,a=Object.keys(window),s=a.length,n=0;n<s;n+=1)try{if(-1!==a[n].indexOf("webkit"))continue;if(p=a[n],"function"==typeof window[p]&&"function (a){d.f.build(a)}"==window[p]){o=window[p];break}}catch(e){}if(0==o){for(var r=0;r<s;r+=1)try{if(-1!==a[r].indexOf("webkit"))continue;if(0===(p=a[r]).indexOf("PIN_"))if(p.length>12){if("function"==typeof window[p].f.build){o=window[p].f.build;break}}else o="almost"}catch(e){}if(!1===o){window.jigPinterestTrickRan=1;var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src="//assets.pinterest.com/js/pinit.js",l.setAttribute("data-pin-build","jigBuildPinterestButton"),e("body").append(l)}else"function"==typeof o&&(window.jigPinterestTrickRan=1,window.jigBuildPinterestButton=o)}else window.jigPinterestTrickRan=1,window.jigBuildPinterestButton=o}},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=i.length;return function(o){if("object"!==_typeof(o)&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,s,n=[];for(a in o)e.call(o,a)&&n.push(a);if(t)for(s=0;s<p;s++)e.call(o,i[s])&&n.push(i[s]);return n}}())}void 0!==jQuery.prettyPhoto&&(jigOtherPrettyPhotoIsPresent=!0),loadJIGprettyPhoto(jQuery),pp_alreadyInitialized=!1;