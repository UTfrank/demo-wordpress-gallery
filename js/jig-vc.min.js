function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e){if(window.JIG_VC={},window.VcJustifiedImageGrid=vc.shortcode_view.extend({render:function(){return JIG_VC.obj=this,vc.add_element_block_view.$el.hasClass("vc_active")&&r(this.model.get("params")),window.VcJustifiedImageGrid.__super__.render.call(this),this},editElement:function(e){return JIG_VC.obj=this,r(this.model.get("params")),!1}}),void 0!==window.InlineShortcodeView){var i=!1;jQuery(window).on("vc_build",(function(){vc.add_element_block_view.$el.find('[data-element="jig_vc"]').on("click",(function(){i=!0}))})),window.InlineShortcodeView_jig_vc=window.InlineShortcodeView.extend({render:function(){return window.InlineShortcodeView_jig_vc.__super__.render.call(this),i&&(JIG_VC.obj=this,r(this.model.get("params"))),this},edit:function(e){return JIG_VC.obj=this,r(this.model.get("params")),!1},update:function(e){return i=!1,window.InlineShortcodeView_jig_vc.__super__.update.call(this,e),this}})}var t,o=ajaxurl+(-1==ajaxurl.indexOf("?")?"?":"&")+"action=jig_shortcode_editor",n=e('<iframe frameborder="0" marginwidth="0" marginheight="0"></iframe>'),d=0;function a(){d++;var i=n[0],t=i.contentDocument||i.contentWindow.document;if("complete"==t.readyState&&void 0!==i.contentWindow.editShortcodeFromVC&&t.querySelectorAll("body > *").length>0)return d=0,void function(){if(n[0].contentWindow.editShortcodeFromVC(),n[0].contentWindow.scrollTo(0,0),JIG_VC.frontend){var i=e('.ui-dialog[aria-describedby="jig-sce-jquery-ui-dialog"]');i.offset().top+i.height()>e(window).height()&&i.css({top:"auto",bottom:"20px",height:"auto"})}void 0!==n[0].contentWindow.detectContext&&n[0].contentWindow.detectContext();JIG_VC.prevObj=JIG_VC.obj}();d<100&&window.setTimeout(a,100)}function r(o){if(void 0!==o.content){if("object"==_typeof(t)&&t.dialog("isOpen")){var d=JIG_VC.obj;JIG_VC.hotSwap=!0,t.dialog("close"),JIG_VC.obj=d}if(void 0!==window.InlineShortcodeView?JIG_VC.frontend=!0:JIG_VC.frontend=!1,JIG_VC.params=o,JIG_VC.shortcodeSnapshot=o.content,"object"!==_typeof(t)){if(t=e('<div id="jig-sce-jquery-ui-dialog"></div>').append(n).appendTo("body").dialog({id:"jig-sce-jquery-ui-dialog",width:900,height:550,resizable:!1,open:a,close:function(){void 0!==n[0].contentWindow.resetSCE&&n[0].contentWindow.resetSCE(),void 0===JIG_VC.shortcode&&(void 0===JIG_VC.hotSwap?JIG_VC.obj.model.save("params",{content:JIG_VC.shortcodeSnapshot}):JIG_VC.prevObj.model.save("params",{content:JIG_VC.shortcodeSnapshot})),i=!1,e('.ui-dialog[aria-describedby="jig-sce-jquery-ui-dialog"]').removeClass("previewingShortcode").find(".ui-dialog-titlebar-collapsed").click(),JIG_VC={}}}),JIG_VC.frontend){var r=e('.ui-dialog[aria-describedby="jig-sce-jquery-ui-dialog"]'),c=r.height(),s=r.find(".ui-dialog-titlebar"),l=!1,u=e('.ui-dialog[aria-describedby="jig-sce-jquery-ui-dialog"] .ui-dialog-titlebar-close'),h=u.clone().insertBefore(u).attr("class","ui-dialog-titlebar-minimize");e.extend(e.easing,{JIGswing:function(e){return.5-Math.cos(e*Math.PI)/2},JIGeaseInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}}),h.on("click",(function(){e(this);if(l||t.is(":animated")){if(!t.is(":animated")){var i=e(window).height();r.offset().top+c>i&&r.css("bottom",(function(){return i-r.offset().top-r.outerHeight()})).css({top:"auto",height:"auto"}),t.animate({height:t.data("originalHeight"),opacity:1},300,"JIGeaseInOutQuad",(function(){r.height(c),s.removeClass("ui-dialog-titlebar-collapsed"),l=!1}))}}else r.css("height","auto"),t.data("originalHeight",t.height()),s.addClass("ui-dialog-titlebar-collapsed"),t.animate({height:0,opacity:0},300,"JIGeaseInOutQuad",(function(){l=!0}))}))}}else t.dialog("open")}}n.attr({src:o}),e("body").on("click",'.ui-dialog[aria-describedby="jig-sce-jquery-ui-dialog"]',(function(i){e(i.target).is(".ui-dialog")&&t.dialog("close")}))}(jQuery);